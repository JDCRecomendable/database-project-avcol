{% extends "layoutDataTables.html" %}

{% block title %}Customers{% endblock %}
{% block tablename %}Customers{% endblock %}
{% block pageurl %}/customers{% endblock %}

{% block navigation %}
<li><a class="dropdown-item text-info" disabled>Customers</a></li>
<li><a class="dropdown-item" href="/products">Products</a></li>
<li><a class="dropdown-item" href="/customer-orders">Customer Orders</a></li>
<li><a class="dropdown-item" href="/company-orders">Company Orders</a></li>
{% endblock %}

{% block filtering %}
<!-- First Name -->
<div class="shadow-sm p-2 m-2">
  <h5>{{ form.first_name_selection.label }}</h5>
  <div class="form-check">
    {% for option in form.first_name_selection %}
      <span class="mx-2 form-check-inline">
        {{ option(class="form-check-input") }}
        {{ option.label(class="form-check-label") }}
      </span>
    {% endfor %}
  </div>
  <div class="input-group my-2">
    <div class="input-group-prepend">
      <div class="input-group-text">
        {{ form.first_name_string.label }}
      </div>
    </div>
    {{ form.first_name_string() }}
  </div>
  <div class="form-check">
    <span class="mx-2 form-check-inline">
      {{ form.first_name_at_beginning(class="form-check-input") }}
      {{ form.first_name_at_beginning.label(class="form-check-label") }}
    </span>
    <span class="mx-2 form-check-inline">
      {{ form.first_name_at_end(class="form-check-input") }}
      {{ form.first_name_at_end.label(class="form-check-label") }}
    </span>
  </div>
</div>

<!-- Last Name -->
<div class="shadow-sm p-2 m-2">
  <h5>{{ form.last_name_selection.label }}</h5>
  <div class="form-check">
    {% for option in form.last_name_selection %}
      <span class="mx-2 form-check-inline">
        {{ option(class="form-check-input") }}
        {{ option.label(class="form-check-label") }}
      </span>
    {% endfor %}
  </div>
  <div class="input-group my-2">
    <div class="input-group-prepend">
      <div class="input-group-text">
        {{ form.last_name_string.label }}
      </div>
    </div>
    {{ form.last_name_string() }}
  </div>
  <div class="form-check">
    <span class="mx-2 form-check-inline">
      {{ form.last_name_at_beginning(class="form-check-input") }}
      {{ form.last_name_at_beginning.label(class="form-check-label") }}
    </span>
    <span class="mx-2 form-check-inline">
      {{ form.last_name_at_end(class="form-check-input") }}
      {{ form.last_name_at_end.label(class="form-check-label") }}
    </span>
  </div>
</div>

<!-- Email Address -->
<div class="shadow-sm p-2 m-2">
  <h5>{{ form.email_address_selection.label }}</h5>
  <div class="form-check">
    {% for option in form.email_address_selection %}
      <span class="mx-2 form-check-inline">
        {{ option(class="form-check-input") }}
        {{ option.label(class="form-check-label") }}
      </span>
    {% endfor %}
  </div>
  <div class="input-group my-2">
    <div class="input-group-prepend">
      <div class="input-group-text">
        {{ form.email_address_string.label }}
      </div>
    </div>
    {{ form.email_address_string() }}
  </div>
</div>

<!-- Phone -->
<div class="shadow-sm p-2 m-2">
  <h5>{{ form.phone_selection.label }}</h5>
  <div class="form-check">
    {% for option in form.phone_selection %}
      <span class="mx-2 form-check-inline">
        {{ option(class="form-check-input") }}
        {{ option.label(class="form-check-label") }}
      </span>
    {% endfor %}
  </div>
  <div class="input-group my-2">
    <div class="input-group-prepend">
      <div class="input-group-text">
        {{ form.phone_string.label }}
      </div>
    </div>
    {{ form.phone_string() }}
  </div>
</div>

<!-- Date Registered -->
<div class="shadow-sm p-2 m-2">
  <h5>{{ form.date_registered_selection.label }}</h5>
  <div>
    {% for option in form.date_registered_selection %}
      <span class="mx-2 form-check-inline">
        {{ option(class="form-check-input") }}
        {{ option.label(class="form-check-label") }}
      </span>
    {% endfor %}
  </div>
  <div class="input-group my-2">
    <div class="input-group-prepend">
      <div class="input-group-text">
        {{ form.date_registered_lower_limit_string.label }}
      </div>
    </div>
    {{ form.date_registered_lower_limit_string() }}
  </div>
  <div class="input-group my-2">
    <div class="input-group-prepend">
      <div class="input-group-text">
        {{ form.date_registered_upper_limit_string.label }}
      </div>
    </div>
    {{ form.date_registered_upper_limit_string() }}
  </div>
</div>

<!-- Location -->
<div class="shadow-sm p-2 m-2">
  <h5>{{ form.location_selection.label }}</h5>
  <div>
    {% for option in form.location_selection %}
      <span class="mx-2 form-check-inline">
        {{ option(class="form-check-input") }}
        {{ option.label(class="form-check-label") }}
      </span>
    {% endfor %}
  </div>
  <div class="input-group my-2">
    <div class="input-group-prepend">
      <div class="input-group-text">
        {{ form.location_place_no.label }}
      </div>
    </div>
    {{ form.location_place_no() }}
  </div>
  <div class="input-group my-2">
    <div class="input-group-prepend">
      <div class="input-group-text">
        {{ form.location_road_name.label }}
      </div>
    </div>
    {{ form.location_road_name() }}
  </div>
  <div class="input-group my-2">
    <div class="input-group-prepend">
      <div class="input-group-text">
        {{ form.location_city.label }}
      </div>
    </div>
    {{ form.location_city() }}
  </div>
</div>
{% endblock filtering %}

{% block tableheaders %}
<th>#</th>
<th>First Name</th>
<th>Last Name</th>
<th>Email Address</th>
<th>Phone Number</th>
<th>Date Registered</th>
{% endblock %}

{% block tablebody %}
<td>{{ record[0] }}</td>
<td>{{ record[2] }}</td>
<td>{{ record[1] }}</td>
<td>{{ record[3] }}</td>
<td>{{ record[4] }}</td>
<td>{{ record[5] }}</td>
<td>
  <div class="dropdown">
    <button class="btn btn-secondary dropdown-toggle" data-toggle="dropdown">
      <i class="fa fa-ellipsis-v"></i>
    </button>
    <ul class="dropdown-menu shadow">
      <li><a class="dropdown-item" href="/customers/{{ record[0] }}">Details...</a></li>
      <li><a class="dropdown-item text-danger" href="/customers/{{ record[0] }}/delete">Delete</a></li>
    </ul>
  </div>
</td>
{% endblock %}

{% block datatablescript %}
$(document).ready(function() {
  $("#dataTable").DataTable({
    "columnDefs": [
      { "orderable": false, "targets": 6 }
    ]
  });
}, 5000);
{% endblock %}
